# Разгон 

В чифире разгон достигается глубокими оптимизациями компонентов HOS. Эффективность работ железа в пересчете на ватт, примерно в 3-5 раз выше, чем в стоковых частотах без разгона. Все это благодаря прорывной оптимизации памяти (преодоление порога частоты и таймингов). В 4IFIR реализован андервольтинг CPU\GPU\Памяти, благодаря оптимизациям чифир гораздо экономнее расходует энергию при разгоне, нежели его конкуренты.

1. [Описание пунктов 4IFIR overlay](#Описание-пунктов-4IFIR-overlay)   
1. [Установка частот CPU/GPU/RAM](#Установка-частот-CPUGPURAM)  
1. [Говерноры](#Говерноры)  

## Описание пунктов 4IFIR overlay

Настройка разгона осуществляется через модуль **4IFIR Houdini overlay**. Модули находятся в **Underhand**, которая открывается комбинацией **(L)+(R)+(▲)**.

**Параметры в заголовке:**     
>App ID - показывает titleid запущенной игры   
>Profile - параметр синхронизирован с настройками ReverseNX-RT (если включена соответствующая настройка в параметрах) и показывает в каком режиме сейчас работает консоль (**Docked** - режим докстанции, **Handheld** - портатив)  
>CPU - текущая частота процессора   
>GPU - текущая частота ядра видеопроцессора   
>MEM - текущая частота памяти   
>SOC - температура процессора (SoC - система на чипе, означает, что на одном чипе находится и видеоядро и центральный процессор, потому температура у них одна на двоих)  
>PCB - температура платы консоли   
>Skin - температура самой консоли (?)  

**Enable** - отвечает за активацию разгона. On - включен, Off - отключен
   
**Edit app Profile** - настройка профиля разгона для запущенного приложения. Указанные настройки будут автоматически применяться при запуске приложения. Имеют средний приоритет. 

**Advanced:**
* Temporary overrides - настройки разгона для всех приложений. Указанные настройки применяются для всех запускаемых приложений и действуют до перезагрузки приставки. Имеют наивысший приоритет.
* Global profile - настройки разгона для всех приложений. Указанные настройки применяются для всех запускаемых приложений. Имеют самый низкий приоритет.
* Gamechanger - Настройка частоты обновления экрана и настройка профилей RAM - 4IFIR Optimised и 4IFIR Optimised E 
* Miscellaneous - раздел с дополнительными настройками. Содержит в себе следующие опции:
   * Auto CPU Boost - активный слой автобуста. Повышает частоту CPU при нагрузке на системное ядро, что обычно означает подгрузку данных, стриминг текстур, локаций и т. п. На Erista лучше отключать, поскольку влияет на время работы от батареи
   * Sync ReverseNX Mode - настройка, синхронизирующая состояние значения ReverseNX с профилем sys-clk. То есть, если в реверсе стоит **Handheld**, то активный профиль в sys-clk будет **Handheld**, если **Docked**, то **Docked** соответственно
   * Frequency Governor - включает говерноры в **Edit app Profile**
   * Charging current - ограничение тока зарядки
   * Charging Limit - ограничение до которого приставка будет заряжаться
   * Force Disable Charging - опция, позволяющая не заряжать батарею при работе от зарядки. То есть, батарея не будет садиться, но и фактически не будет заряжаться тоже. Позволяет избежать проблем с десинхронизацией батареи 
   * Screen Backlight - отключает подсветку экрана. Полезно в связке с sys-dvr 
   * Info - различные метрики:   
   >Charger - тип зарядного устройства, подключенного к консоли. Показывается вольтаж и ампераж, а так же мощность в Ваттах  
   >Battery - напряжение на батарее и её температура  
   >Current Limit -   
   >Charging Limit - значение, указанное в **Charging current**  
   >Raw Charge - Заряд батареи, который отдает контроллер зарядки   
   >Battery Age - "здоровье" батареи  
   >Power Role -   
   >Current Flow - текущее потребление   
   >CPU Volt - вольтаж CPU   
   >GPU Volt - вольтаж GPU   
   >DRAM Volt - вольтажи памяти   

## Установка CPU/GPU/EMC(ram)/LCD
  Разгон осуществляется с помощью смены максимальной частоты для CPU/GPU/EMC(Памяти)/LCD(Частоты обновления экрана) через настройки разгона **Edit app Profile**/**Temporary overrides**/**Global profile**.   
  Настройки будут применяться в зависимости от приоритета (**Temporary overrides** -> **Edit app Profile** -> **Global profile**).   
  Наивысший приоритет у **Temporary overrides**, если там не указано никаких настроек, то программа смотрит в настройки из **Edit app Profile**, если там пусто, то применяются настройки из **Global profile**. И если уже там ничего нет, то ставятся настройки системы по-умолчанию (**Default**).


**Global profile** и **Edit app Profile** содержат разделение на профили: 
  * **Docked**
  * **Handheld**
  * **Charging**
  * **Official Charging**
  * **USB Charger** 

>Профили имеют так же свой приоритет. От наивысшего к низшему: **Docked** -> **Official Charging** / **USB Charger** -> **Charging** -> **Handheld**.    
Принцип применения ровно такой же. Режим **Docked** имеет наивысший приоритет и перезаписывает значения профилей с приоритетом ниже. **Official Charging** или **USB Charger** имеют одинаковый приоритет и перезаписывают значения профилей **Charging** и **Handheld**, и так далее.

>Каждый из профилей содержат в себе отдельные пункты для разгона **CPU**, **GPU**, **EMC(ram)**, **LCD**. В каждом из этих пунктов есть значение **Default**, которое отвечает за значение по-умолчанию, которое берется из предыдущей по приоритету настройки разгона (Temporary/App/Global/Системное значение) из профиля, соответствующего приоритета. Рабочие частоты подбираются индивидуально для каждой конкретной игры на каждой конкретной консоли. Подробнее про подбор частот будет ниже. 

>Профили **Docked** и **Handheld** синхронизированы с настройками Reverse-NX (можно отключить в **Miscellaneous** модуля **4IFIR Houdini**) и зависят от режима работы консоли (док/портатив). Профиль **Charging** включается при подключении любой зарядки к консоли. Профиль **Official Charger** включается при подключении оригинальной зарядки, или любой другой, но с поддержкой протокола Power Delivery. Профиль **USB Charger**, при подключении любой другой зарядки. То есть, вы можете настроить отдельный профиль разгона для зарядки от любого источника и отдельно для мощного или маломощного, причем последние имеют приоритет выше.  


## Говерноры

**Edit app Profile** содержит в себе управление говернорами

Говернор (англ. governor) в контексте управления частотами процессора - это программа или механизм, который контролирует частоту работы процессора и его потребление энергии.

Суть работы говернора заключается в том, чтобы определить оптимальную частоту работы процессора в зависимости от нагрузки на него. Если процессор не нагружен, говернор может снизить его частоту, чтобы снизить потребление энергии и уменьшить тепловыделение. Если же процессор получает высокую нагрузку, говернор может увеличить его частоту, чтобы обеспечить высокую производительность.

**CPU Freq Governor** - включить или выключить управление частотой **центрального** процессора
**GPU Freq Governor** - включить или выключить управление частотой **графического** процессора
**LCD Freq Governor** - включить или выключить управление частотой обновления дисплея консоли, аналог VRR

Эти пункты будут доступны только если в **Miscellaneous** активировано значение **Frequency Governor**

>Включение говернора GPU в ряде игр может привести к подтормаживанию или снижению FPS (например, Metroid Prime Remastered иногда сбрасывает FPS до 30 при выходе из карты в игру). Если в вашей игре наблюдается такое, отключите говернор для GPU.

***

**Для более эффективного разгона под вашу приставку вам необходимо выполнить настройку параметров в 4IFIR Wizard на котором ваша консоль способна работать. Все это делается экспериментальным путём и индивидуально для каждой конкретной приставки и, более того, для каждой конкретной игры.**
