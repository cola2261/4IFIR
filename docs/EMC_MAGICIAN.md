# EMC Magician

**EMC Magician** позволяет настроить тайминги в режиме реального времени, так же можно донастроить те таминги, которые были установлены в **4IFIR Wizard**
* Тайминги настраиваются для текущей частоты **RAM** и **EMC Ballance (eBal)** режима 
* Все тайминги  настроенные в **EMC Magician** хранятся в **/config/4IFIR/emc_timings.ini**
* Для каждой комбинации **RAM MHz** + **EMC Ballance (eBal)** сохраняется отдельный профиль в **/config/4IFIR/emc_timings.ini**
* При обновлении **4IFIR** через AIO тайминги  настроенные в **EMC Magician** не сбрасываются
* Следует установить **HB Menu** как приложение (находится в папке games, в корне карты памяти, или [.nsp файл по ссылке](https://t.me/kf4fr/48074/547847)). Далее все манипуляции и тесты следует проводить именно в нем.  
>**Запускать с жатой кнопкой **R**. Дождаться пока загрузится HB Menu. Отпустить кнопку **R****

***

### БАЗА ЗНАНИЙ > ТЮНИНГ > ОСНОВЫ: от Cooler3D - [Тут](https://t.me/kf4fr/48074/754146)
>Данный метод предполагает, что у вас уже имеются базовые знания

***

### Инструкция по настройке таймингов
>**Для упрощения проверки стабильости таймингов следует установить** [Ultracam для Zelda TOTK](https://t.me/kf4fr/48074/765475)
1. 4IFIR overlay > EMC Magician > активируем все 3 доступных тумблера
2. Homebrew Menu > MicroMemBench, перед входом убедиться, что стоит CPU - 4IFIR Maximized.
3. Ждём, пока память полностью переключится в Optimized S
4. Не выходя из MicroMemBench, заходим в EMC Magician,
5. Приступаем к подбору значений таймингов. Смещаем значение первого слайдера, сначала на 1 шаг вправо, если не было прироста, то начинаем смещать слайдер влево (делаем паузы в несколько секунд после каждого шага) до тех пор, пока значения бенчмарка не начнут уменьшаться или система не зависнет.  
6. Запоминаем и выписываем стабильное значение параметра (в белом кружке) или просто фиксируем его нажатием X (Save).
7. Проверяем стабильность найденного тайминга, Homebrew Menu > MicroMemTest (10 лупов хватит, при частоте CPU - 4IFIR Optimised)
8. Проверяем стабильность тайминга в игре 
>Для этого хорошой подойдет RDR в Док режиме или прогнать пару раз бенчмарк Ultracam в Zelda TOTK (Док режим, ЦПУ - 1963, ГПУ - 1305, EMC - Optimised S) 
9. Повторяем процесс с шага №2, для каждого слайдера.
>После настройки всех таймингов проверяем стабильность в MicroMemTest-е (при частоте CPU - 4IFIR Optimised) и в игре в последний раз.
10. Переходим в MicroMemBench, перед входом вернув CPU частоту в 4IFIR Optimised 
11. Не выходя из MicroMemBench, заходим в EMC Magician, и с помощью кнопок L и R, находим значение "арбитра" для каждого тайминга, при котором бенчмарк демонстрирует наилучший результат. Не забываем сохранять нажатием "X". 
> "х | x | арбитр" - его изменение не влияет на стабильность, только на производительность, которая будет снижаться, если параметр перетянуть или недотянуть относительно оптимального значения, подбираемого опытным путём. 
>Обычно это значение не далеко от того, что 4IFIR рассчитал самостоятельно для ваших значений тайминга, относительно прочих переменных конфигурации. 

***

### Сброс таймингов
1. Отключить Magician 
2. Переключить профиль EMC на Optimized S 
3. Отключить разгон кнопкой "+" на "Edit app profile"
4. Включить Magician 
5. Сбросить нужные тумблеры кнопкой "Y" 
6. Включить разгон кнопкой "A" на "Edit app profile" 
7. Зафиксировать изменения переключившись на Optimized или вкл/выкл сон.
>Так же можно просто удалить раздел, соответствующий текущему профилю RAM в файле config/4IFIR/emс_timings.ini и перезагрузится

