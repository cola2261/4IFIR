# EMC Magician

**EMC Magician** позволяет настроить тайминги в режиме реального времени, так же можно донастроить те таминги, которые были установлены в **4IFIR Wizard**
* Тайминги настраиваются для текущей частоты **RAM** и **EMC Ballance (eBal)** режима 
* Все тайминги  настроенные в **EMC Magician** хранятся в **/config/4IFIR/emc_timings.ini**
* Для каждой комбинации **RAM MHz** + **EMC Ballance (eBal)** сохраняется отдельный профиль в **/config/4IFIR/emc_timings.ini**
* При обновлении **4IFIR** через AIO тайминги  настроенные в **EMC Magician** не сбрасываются

***

### Инструкция по настройке таймингов от Cooler3D
1. 4IFIR overlay > EMC Magician > активируем все 3 доступных тумблера
2. 4IFIR overlay > Y (кнопка подписанная как Temp) > CPU > 4IFIR Optimized
3. Homebrew Menu > MicroMemTest
4. Ждём, пока память полностью переключится в Optimized S
5. Приступаем к подбору значений таймингов. Последовательно, слайдер за слайдером, смещаем влево значения (делаем паузы в несколько секунд после каждого шага) до тех пор, пока стресс-тест не покажет ошибку, или система не зависнет.  
6. Запоминаем и выписываем наименьшее стабильное значение параметра (в белом кружке).
7. Повторяем процесс с шага установки CPU частоты через "Y" Temp > 4IFIR Optimized, но в этот раз, уже для второго слайдера.
>Слайдеров всего 12, так что процесс не успеет сильно надоесть. 
8. Определившись со всеми значениями, возвращаемся в EMC Magician, 
9. Проставляем слайдеры в соответствующие значения, фиксируя их нажатием X (Save). 
>На всякий случай, проверяем стабильность в MicroMemTest-е в последний раз,
10. Переходим в MicroMemBench, перед входом сняв CPU частоту из Temp Override в дефолт. 
>Дефолт для homebrew по умолчанию, является макс. Если ничего не перенастраивалось, и в HomebrewMenu мы попали каноничным способом (удерживая R на иконке тайтла HomebrewMenu установленного посредством DBI > .microsd/Games/HomebrewMenu*), частота CPU автоматически перейдет в target 3GHz.
11. Не выходя из MicroMemBench, заходим в EMC Magician, и с помощью кнопок L и R, находим значение "арбитра", при котором бенчмарк демонстрирует наилучший результат. Не забываем сохранять нажатием "X". 
> "х | x | арбитр" - его изменение не влияет на стабильность, только на производительность, которая будет снижаться, если параметр перетянуть или недотянуть относительно оптимального значения, подбираемого опытным путём. 
>Обычно это значение не далеко от того, что 4IFIR рассчитал самостоятельно для ваших значений тайминга, относительно прочих переменных конфигурации. 
12. Выходим из оверлея, делаем скриншот 10К, и довольные результатом - идём играть.

***

### Инструкция по настройке таймингов "Вариант 2"
1. 4IFIR overlay > EMC Magician > активируем все 3 доступных тумблера
2. Homebrew Menu > MicroMemBench, перед входом убедиться, что стоит CPU - 4IFIR Maximized.
3. Ждём, пока память полностью переключится в Optimized S
4. Не выходя из MicroMemBench, заходим в EMC Magician,
5. Приступаем к подбору значений таймингов. Смещаем значение первого слайдера, сначала на 1 шаг вправо, если не было прироста, то начинаем смещать слайдер влево (делаем паузы в несколько секунд после каждого шага) до тех пор, пока значения бенчмарка не начнут уменьшаться или система не зависнет.  
6. Запоминаем и выписываем стабильное значение параметра (в белом кружке) или просто фиксируем его нажатием X (Save).
7. Проверяем стабильность найденного тайминга, Homebrew Menu > MicroMemTest (10 лупов хватит, при частоте CPU - 4IFIR Optimised)
8. Проверяем стабильность тайминга в игре 
>Для этого хорошой подойдет RDR в Док режиме или прогнать пару раз бенчмарк Ultracam в Zelda TOTK (Док режим, ЦПУ - 1963, ГПУ - 1305, EMC - Optimised S) 
9. Повторяем процесс с шага №2, для каждого слайдера.
>После настройки всех таймингов проверяем стабильность в MicroMemTest-е (при частоте CPU - 4IFIR Optimised) и в игре в последний раз.
10. Переходим в MicroMemBench, перед входом вернув CPU частоту в 4IFIR Optimised 
11. Не выходя из MicroMemBench, заходим в EMC Magician, и с помощью кнопок L и R, находим значение "арбитра" для каждого тайминга, при котором бенчмарк демонстрирует наилучший результат. Не забываем сохранять нажатием "X". 
> "х | x | арбитр" - его изменение не влияет на стабильность, только на производительность, которая будет снижаться, если параметр перетянуть или недотянуть относительно оптимального значения, подбираемого опытным путём. 
>Обычно это значение не далеко от того, что 4IFIR рассчитал самостоятельно для ваших значений тайминга, относительно прочих переменных конфигурации. 

***

### Сброс таймингов
1. Отключить Magician 
2. Переключить профиль EMC на Optimized S 
3. Отключить разгон кнопкой "+" на "Edit app profile"
4. Включить Magician 
5. Сбросить нужные тумблеры кнопкой "Y" 
6. Включить разгон кнопкой "A" на "Edit app profile" 
7. Зафиксировать изменения переключившись на Optimized или вкл/выкл сон.
>Так же можно просто удалить раздел, соответствующий текущему профилю RAM в файле config/4IFIR/emс_timings.ini и перезагрузится

